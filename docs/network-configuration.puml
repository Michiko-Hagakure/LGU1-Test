@startuml Network Configuration
!define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.4.0
!include ICONURL/common.puml
!include ICONURL/font-awesome-5/database.puml
!include ICONURL/font-awesome-5/server.puml
!include ICONURL/font-awesome-5/globe.puml
!include ICONURL/font-awesome-5/laptop.puml
!include ICONURL/font-awesome-5/mobile_alt.puml
!include ICONURL/font-awesome-5/desktop.puml

title Network Configuration\nLGU1 Public Facilities Reservation System

skinparam defaultTextAlignment center
skinparam componentStyle rectangle

' External Services
cloud "PayMongo\nPayment Gateway" as paymongo #lightblue
cloud "Internet" as internet #87CEEB
database "RabbitMQ\nMessage Queue" as rabbitmq #FFE4B5

' Databases
database "Authentication DB\n(lgu1_auth)" as authdb #90EE90
database "Facilities DB\n(lgu1_facilities)" as facilitiesdb #90EE90
database "Energy Efficiency DB\n(ener_nova_capri)" as energydb #90EE90

' Application Server
node "Laravel Application\nServer" as laravel #FFA07A {
  component "Web Routes" as routes
  component "API Routes" as api
  component "Auth Middleware" as auth
}

' Network Infrastructure
node "ROUTER" as router #696969

' User Devices - Wired
rectangle "Admin\nWorkstation" as admin #D3D3D3
rectangle "Treasurer\nWorkstation" as treasurer #D3D3D3
rectangle "Staff\nWorkstation" as staff #D3D3D3

' User Devices - Wireless (Dashed connections)
rectangle "Citizens\n(Laptops)" as laptop #E6E6FA
rectangle "Citizens\n(Mobile Devices)" as mobile #E6E6FA
rectangle "Super Admin\n(Remote Access)" as superadmin #FFB6C1

' Connections - Databases to Laravel (solid lines)
authdb -down-> laravel : "MySQL\n3306"
facilitiesdb -down-> laravel : "MySQL\n3306"
energydb -down-> laravel : "Integration"

' External Services
laravel <-up-> internet : "HTTPS"
internet <--> paymongo : "Payment API"
laravel <--> rabbitmq : "AMQP\nAsync Tasks"

' Network Infrastructure
internet -down-> router : "WAN"

' Wired Connections (solid lines)
router -down-> admin : "LAN\n(Wired)"
router -down-> treasurer : "LAN\n(Wired)"
router -down-> staff : "LAN\n(Wired)"
router -down-> laravel : "LAN"

' Wireless Connections (dashed lines)
router ..> laptop : "WiFi\n(Wireless)"
router ..> mobile : "WiFi/4G\n(Wireless)"
router ..> superadmin : "VPN\n(Wireless)"

' Legends
legend right
  |= Connection Type |= Description |
  | <&arrow-right> Solid | Wired/Direct Connection |
  | <&arrow-right> Dashed | Wireless Connection |
  
  |= User Roles |= Access Level |
  | Super Admin | Full System Access |
  | Admin | Booking Management |
  | Treasurer | Payment Verification |
  | Staff | Reservations Management |
  | Citizens | Public Booking Access |
endlegend

note top of authdb
  Shared authentication database
  across all LGU1 subsystems
  (subsystem_id = 4 for Facilities)
end note

note top of facilitiesdb
  Facility-specific data:
  - Reservations/Bookings
  - Payment Slips
  - Facility Information
end note

note right of laravel
  Framework: Laravel 11.0
  Frontend: Tailwind CSS 4.1.16
  JavaScript: Alpine.js 3.15.1
end note

@enduml
